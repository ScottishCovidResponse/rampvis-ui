{% extends "base-site.html" %}

{% block title %} Cumulative Number of Cases Tested Positive for COVID-19 {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="dashboard-container">
        <div class="row">
            <div class="col-xs-12">
                <h1 class="dashboard-title">
                  <span id="dashboard-title">Cumulative Number of Cases Tested Positive for COVID-19</span>
                  {% if current_user.is_authenticated %}
                    <span class="fa fa-star" id="fav-vis"></span>
                  {% endif %}
                </h1>
                <p class="desc">(Click on location label to go to regional overview and on the chart to a detailed view)</p>
            </div>
        </div>
        <div class="row" id="chart">
        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

    <script>
        $(document).ready(function() {
            Common.prototype.init();

            let apiUrl = 'http://vis.scrc.uk/api/v1/scotland/cumulative';
            let chartId = 'chart'

            fetch(apiUrl)
            .then((resp) => resp.json())
            .then(data => {
                console.log(data);
                TopLevelOverviewScreenA.prototype.init({
                    element: chartId,
                    data: data
                });
            });

        });
    </script>

{% endblock javascripts %}
